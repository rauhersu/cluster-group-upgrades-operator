apiVersion: ran.openshift.io/v1alpha1
kind: ClusterGroupUpgrade
metadata:
  name: cgu
  namespace: default
spec:
  clusters:
  - spoke1
  - spoke2
  - spoke5
  enable: true
  managedPolicies:
  - policy5-subscriptions
  preCaching: true
  remediationStrategy:
    maxConcurrency: 2
    timeout: 240
status:
  computedMaxConcurrency: 2
  conditions:
  - message: All selected clusters are valid for upgrade
    reason: Completed
    status: "True"
    type: ClustersSelected
  - message: All managed policies exist
    reason: Completed
    status: "True"
    type: Validated
  - message: The ClusterGroupUpgrade CR is not enabled
    reason: NotEnabled
    status: "False"
    type: Progressing
  - message: Precaching is completed for all clusters
    reason: Completed
    status: "True"
    type: PrecachingSuceeded
  - message: 'The ClusterGroupUpgrade CR has managed policies that are missing:
      [policy5-subscriptions]'
    reason: NotAllManagedPoliciesExist
    status: "False"
    type: PrecacheSpecValid
  copiedPolicies:
  - cgu-policy5-subscriptions-kuttl
  managedPoliciesForUpgrade:
  - name: policy5-subscriptions
    namespace: default
  placementBindings:
  - cgu-policy5-subscriptions-placement-kuttl
  placementRules:
  - cgu-policy5-subscriptions-placement-kuttl
  remediationPlan:
  - - spoke1
    - spoke2
  - - spoke5
  precaching:
    status:
      spoke1: Succeeded
      spoke2: Succeeded
      spoke5: Succeeded
  safeResourceNames:
    cgu-common-subscriptions-policy-config: cgu-common-subscriptions-policy-config-kuttl
    cgu-default-subscription-cluster-logging: cgu-default-subscription-cluster-logging-kuttl
    cgu-default-subscription-local-storage-operator: cgu-default-subscription-local-storage-operator-kuttl
    cgu-default-subscription-performance-addon-operator: cgu-default-subscription-performance-addon-operator-kuttl
    cgu-default-subscription-ptp-operator-subscription: cgu-default-subscription-ptp-operator-subscription-kuttl
    cgu-default-subscription-sriov-network-operator-subscription: cgu-default-subscription-sriov-network-operator-subscription-kuttl
    cgu-policy5-subscriptions: cgu-policy5-subscriptions-kuttl
    cgu-policy5-subscriptions-placement: cgu-policy5-subscriptions-placement-kuttl
  status: {}
